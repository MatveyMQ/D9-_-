<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="color-scheme" content="dark only">
  <title>–î–∞—à–∞, —Å 8 –ú–∞—Ä—Ç–∞ üå∑</title>
  <link rel="preconnect" href="https://music.yandex.ru">
  <link rel="preconnect" href="https://youtube.com">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      background: #0f172a;
    }

    html, body {
      width: 100%;
      min-height: 100vh;
      min-height: 100dvh;
      background-color: #000;
      background-image: radial-gradient(circle at top, #1a1a1a, #000);
      color: #fff;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      overflow-x: hidden;
      color-scheme: dark;
    }

    body {
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 0;
      padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
    }

    .stars {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }

    .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      box-shadow: 0 0 4px rgba(255, 255, 255, 0.8);
      opacity: 0;
      animation: starTwinkle 3s infinite ease-in-out;
      pointer-events: none;
      z-index: 1;
    }

    @keyframes starTwinkle {
      0%, 100% { opacity: 0; transform: scale(0); }
      10% { opacity: 0.8; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.2); }
      90% { opacity: 0.8; transform: scale(1); }
      100% { opacity: 0; transform: scale(0); }
    }

    .glow {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 800px;
      height: 800px;
      background: radial-gradient(circle, #ff4da6 0%, transparent 70%);
      filter: blur(140px);
      opacity: 0.35;
      animation: pulse 6s infinite alternate;
      z-index: 1;
    }

    @keyframes pulse {
      from { opacity: 0.3; transform: translate(-50%, -50%) scale(1); }
      to { opacity: 0.5; transform: translate(-50%, -50%) scale(1.1); }
    }

    .main {
      min-height: 100vh;
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      position: relative;
      z-index: 2;
    }

    .card {
      position: relative;
      background: rgba(255, 255, 255, 0.06);
      backdrop-filter: blur(30px);
      border-radius: 40px;
      padding: 60px 40px;
      max-width: 900px;
      width: 100%;
      text-align: center;
      box-shadow: 0 30px 80px rgba(0, 0, 0, 0.7);
      z-index: 3;
    }

    h1, p, .timer-container, .minimal-media {
      opacity: 0;
      transition: opacity 1.5s ease;
    }

    h1.visible, p.visible, .timer-container.visible, .minimal-media.visible {
      opacity: 1;
    }

    h1 {
      font-size: 40px;
      margin-bottom: 20px;
      letter-spacing: 1px;
      word-break: break-word;
    }

    p {
      font-size: 18px;
      line-height: 1.6;
      margin-bottom: 20px;
      word-break: break-word;
    }

    p:last-of-type {
      margin-bottom: 50px;
    }

    .timer-container {
      margin-bottom: 40px;
    }

    .timer-label {
      font-size: 14px;
      opacity: 0.7;
      margin-bottom: 5px;
      letter-spacing: 1px;
    }

    .timer {
      font-size: 28px;
      font-weight: 300;
      line-height: 1.4;
      letter-spacing: 1px;
      color: #fff;
      text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
      word-break: break-word;
    }

    .minimal-media {
      margin: 20px 0;
      width: 100%;
    }

    .media-player {
      display: none;
      width: 100%;
    }

    .media-player.active {
      display: block;
    }

    .yandex-container,
    .video-container {
      width: 100%;
      max-width: 614px;
      margin: 0 auto;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
      background: rgba(0, 0, 0, 0.3);
    }

    .yandex-container iframe {
      display: block;
      width: 100%;
      aspect-ratio: 614 / 244;
      border: none;
    }

    .yandex-fallback {
      width: 100%;
      max-width: 614px;
      margin: 0 auto;
      text-align: center;
    }

    .yandex-fallback a {
      display: inline-block;
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      color: white;
      padding: 16px 32px;
      border-radius: 50px;
      text-decoration: none;
      font-weight: 500;
      font-size: 18px;
      letter-spacing: 0.5px;
      border: 1px solid rgba(255, 255, 255, 0.3);
      transition: background 0.3s, transform 0.2s;
      margin: 20px 0;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }

    .yandex-fallback a:hover {
      background: rgba(255, 255, 255, 0.35);
      transform: scale(1.02);
    }

    .video-container {
      position: relative;
      aspect-ratio: 16 / 9;
    }

    .video-container iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
    }

    .media-switch {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 25px;
    }

    .switch-dot {
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      position: relative;
    }

    .switch-dot::before {
      content: '';
      width: 14px;
      height: 14px;
      border-radius: 50%;
      background: white;
      box-shadow: 0 0 8px rgba(255, 255, 255, 0.5);
      transition: all 0.2s ease;
    }

    .switch-dot.active::before {
      background: #ff4da6;
      box-shadow: 0 0 12px #ff4da6;
      transform: scale(1.2);
    }

    .switch-dot:hover::after {
      content: attr(data-tooltip);
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.8);
      color: white;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 12px;
      white-space: nowrap;
      margin-bottom: 8px;
      backdrop-filter: blur(5px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      pointer-events: none;
      z-index: 10;
    }

    @media (max-width: 600px) {
      .yandex-container {
        display: none;
      }
      .yandex-fallback {
        display: block;
      }
      .stars {
        display: none;
      }
    }

    @media (min-width: 601px) {
      .yandex-fallback {
        display: none;
      }
    }

    @media (max-width: 700px) {
      .card {
        padding: 40px 30px;
        backdrop-filter: none;
        background: rgba(20, 20, 30, 0.8);
      }
    }

    @media (max-width: 600px) {
      .main {
        padding: 10px;
      }
      .card {
        padding: 30px 16px;
        border-radius: 24px;
      }
      h1 {
        font-size: 26px;
        margin-bottom: 16px;
      }
      p {
        font-size: 15px;
        margin-bottom: 20px;
        line-height: 1.5;
      }
      .timer {
        font-size: 20px;
      }
      .switch-dot {
        width: 32px;
        height: 32px;
      }
      .switch-dot:hover::after {
        display: none;
      }
    }

    @media (max-width: 400px) {
      .card {
        padding: 20px 12px;
      }
      h1 {
        font-size: 22px;
      }
      p {
        font-size: 14px;
      }
      .timer {
        font-size: 18px;
      }
    }

    .quote {
      display: inline-block;
      border-left: 4px solid #ff99cc;
      padding-left: 16px;
      margin: 4px 0;
      color: #ffffff;
      font-style: italic;
      line-height: 1.5;
      text-align: left;
      background: transparent;
    }
  </style>
</head>
<body>

<div class="stars"></div>

<div class="main">
  <div class="glow"></div>

  <div class="card">
    <h1 id="mainTitle">–î–∞—à–∞, —Å 8 –ú–∞—Ä—Ç–∞! üå∑</h1>

    <div class="timer-container" id="timer-block">
      <div class="timer-label">–ú—ã –∑–Ω–∞–∫–æ–º—ã —É–∂–µ:</div>
      <div class="timer" id="timer">0 –¥–Ω–µ–π 00:00:00</div>
    </div>

    <p id="p1">–ö–∞–∫ —Ç—ã –º–æ–∂–µ—à—å –≤–∏–¥–µ—Ç—å, –∑–Ω–∞–∫–æ–º—ã –º—ã —É–∂–µ –¥–∞–≤–Ω–æ, –∏ —Å–µ–≥–æ–¥–Ω—è –≤–ø–µ—Ä–≤—ã–µ —è –ø–æ–∑–¥—Ä–∞–≤–ª—è—é —Ç–µ–±—è –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–ª–æ–≤–∞–º–∏, –Ω–æ –∏ –ø–æ–¥–∞—Ä–∫–æ–º. –ó–∞ —ç—Ç–æ –≤—Ä–µ–º—è –≤—Å—è–∫–æ–µ –±—ã–ª–æ ‚Äî –º–æ–∂–µ—Ç, –º—ã –∏ –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏–ª–∏ –≤–º–µ—Å—Ç–µ —á–µ—Ä–µ–∑ —Å–µ—Ä—å—ë–∑–Ω—ã–µ –∏—Å–ø—ã—Ç–∞–Ω–∏—è, –Ω–æ —Ç–∞ —Å–∞–º–∞—è ¬´–ø—ã—Ç–∫–∞ –ø–∞—Ä–∞–º–∏ —É –ö–æ—Ä–∞–±–ª—ë–≤–æ–π¬ª —á–µ–≥–æ —Ç–æ–ª—å–∫–æ —Å—Ç–æ–∏–ª–∞! –ò –∑–Ω–∞–µ—à—å, –¥–∞–∂–µ –≤ –Ω–µ–π –±—ã–ª–æ —á—Ç–æ-—Ç–æ —Ö–æ—Ä–æ—à–µ–µ: –∫–æ–≥–¥–∞ –º—ã –æ–±—â–∞–ª–∏—Å—å, —ç—Ç–∏ –ø–∞—Ä—ã –ø–µ—Ä–µ—Å—Ç–∞–≤–∞–ª–∏ –±—ã—Ç—å —É—Ç–æ–º–∏—Ç–µ–ª—å–Ω—ã–º–∏ –∏ —Å—Ç–∞–Ω–æ–≤–∏–ª–∏—Å—å –¥–∞–∂–µ –≤–µ—Å—ë–ª—ã–º–∏. –ù–∞—à–µ –æ–±—â–µ–Ω–∏–µ –≤—Å–µ–≥–¥–∞ –ø–æ–ª—É—á–∞–ª–æ—Å—å –ª—ë–≥–∫–∏–º –∏ –∂–∏–≤—ã–º.</p>

    <p id="p2">–ú—ã –Ω–µ —Ä–∞–∑ –ø–µ—Ä–µ—Å—Ç–∞–≤–∞–ª–∏ –æ–±—â–∞—Ç—å—Å—è –Ω–∞–¥–æ–ª–≥–æ, –Ω–æ –∫–∞–∂–¥—ã–π —Ä–∞–∑–≥–æ–≤–æ—Ä, –∫–∞–∂–¥–∞—è –º–∏–Ω—É—Ç–∞ –ø–æ—á–µ–º—É-—Ç–æ –æ—Å—Ç–∞–≤–∞–ª–∏—Å—å –≤ –ø–∞–º—è—Ç–∏.</p>

    <p id="p3">–ü–æ–º–Ω–∏—à—å, –∫–∞–∫ —Ç—ã –º–Ω–µ –Ω–∞–ø–∏—Å–∞–ª–∞ —Ç–æ–≥–¥–∞: <span class="quote">¬´–ú–∞—Ç–≤–µ–π, —Ç—ã –¥–æ–≤–æ–ª—å–Ω–æ –∞–¥–µ–∫–≤–∞—Ç–Ω—ã–π –∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —á–µ–ª–æ–≤–µ–∫ (–∞ –Ω–∞ –ø–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥ –∏ –Ω–µ —Å–∫–∞–∂–µ—à—å), –Ω–æ —è –ø—Ä–∏–º–µ—Ä–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é, —Å –∫–∞–∫–∏–º –º–æ—Ç–∏–≤–æ–º —Ç—ã –º–Ω–µ –Ω–∞–ø–∏—Å–∞–ª, –ø–æ—ç—Ç–æ–º—É, –∏–∑–≤–∏–Ω–∏, –Ω–æ —É –º–µ–Ω—è –µ—Å—Ç—å –ø–∞—Ä–µ–Ω—å¬ª</span> –í —Ç–æ—Ç –º–æ–º–µ–Ω—Ç –≤—Å—ë –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –º–æ–≥–ª–æ –∑–∞–∫–æ–Ω—á–∏—Ç—å—Å—è, —Ç–∞–∫ –∏ –Ω–µ –Ω–∞—á–∞–≤—à–∏—Å—å. –ù–æ –Ω–µ –∑–∞–∫–æ–Ω—á–∏–ª–æ—Å—å ‚Äî –∏ —è —ç—Ç–æ–º—É –æ—á–µ–Ω—å —Ä–∞–¥.</p>

    <p id="p4">–ó–Ω–∞–µ—à—å, —Ç–æ—Ç –¥–µ–Ω—å, –∫–æ–≥–¥–∞ –º—ã —Å–Ω–∞—á–∞–ª–∞ –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏—Å—å –≤ –∫–∞—Ñ–µ—à–∫–µ, –∞ –ø–æ—Ç–æ–º –ø–æ–µ—Ö–∞–ª–∏ —Å–º–æ—Ç—Ä–µ—Ç—å –∫–∏–Ω–æ –∏ –ø—Ä–æ—Å—Ç–æ –ø–∏—Ç—å, —Å—Ç–∞–ª –¥–ª—è –º–µ–Ω—è –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É –ø–µ—Ä–µ–ª–æ–º–Ω—ã–º. –≠—Ç–æ –±—ã–ª –≥–ª–æ—Ç–æ–∫ —Å–≤–µ–∂–µ–≥–æ –≤–æ–∑–¥—É—Ö–∞ –ø–æ—Å–ª–µ –¥–æ–ª–≥–æ–≥–æ —Å–∏–¥–µ–Ω–∏—è –¥–æ–º–∞ ‚Äî —Å –Ω–µ–≥–æ –≤—Å—ë –∫–∞–∫-—Ç–æ –∏ –∑–∞–≤–µ—Ä—Ç–µ–ª–æ—Å—å, –ø–æ—è–≤–∏–ª–æ—Å—å –∂–µ–ª–∞–Ω–∏–µ —Å–Ω–æ–≤–∞ –æ–±—â–∞—Ç—å—Å—è —Å –ª—é–¥—å–º–∏, –≤—ã—Ö–æ–¥–∏—Ç—å –∫—É–¥–∞-—Ç–æ, –∂–∏—Ç—å –∏–Ω–∞—á–µ. –ó–∞ —ç—Ç–æ —è —Ç–µ–±–µ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω. –ö—Å—Ç–∞—Ç–∏, —è —Ç–∞–∫ –∏ –Ω–µ –æ–ø–ª–∞—Ç–∏–ª —Ç–µ–±–µ —Ç–æ—Ç –ø–æ–¥–∞—Ä–æ–∫... –í–∏–¥–∏–º–æ, –ø—Ä–∏—à–ª–æ –≤—Ä–µ–º—è. ( ‚ó°‚Äø‚ó° *)</p>

    <p id="p5">–¢—ã –º–Ω–æ–≥–æ–≥–æ –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—à—å ‚Äî —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏—è, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏, —Ä–æ—Å—Ç–∞. –ü—É—Å—Ç—å –∫–∞—Ä—å–µ—Ä–∞ –∏–¥—ë—Ç –≤–≤–µ—Ä—Ö, –ø—É—Å—Ç—å —Ä—è–¥–æ–º –±—É–¥—É—Ç –ª—é–¥–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–Ω–∏–º–∞—é—Ç –∏ —Ü–µ–Ω—è—Ç —Ç–µ–±—è. –ò –ø—É—Å—Ç—å 8 –º–∞—Ä—Ç–∞ –±—É–¥–µ—Ç –Ω–µ –ø—Ä–æ—Å—Ç–æ –¥–∞—Ç–æ–π –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ, –∞ –¥–Ω—ë–º, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è —Ç–µ–±—è.</p>

    <p id="p6">–Ø –≤–æ–æ–±—â–µ –Ω–µ –º–∞—Å—Ç–µ—Ä –∫—Ä–∞—Å–∏–≤–æ –∏–∑—ä—è—Å–Ω—è—Ç—å—Å—è, –Ω–µ —É–º–µ—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–æ–≤–∞ —Ç–∞–∫, –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞—é—Ç –Ω–∞—Å—Ç–æ—è—â–∏–µ –ø–∏—Å–∞—Ç–µ–ª–∏. –ù–æ –≤ –º–æ—ë–º –ø–æ–¥–∞—Ä–∫–µ –µ—Å—Ç—å –∫–Ω–∏–≥–∏, –∞ —É–∂ –≤ –Ω–∏—Ö –ª—é–¥–∏ —Ç–æ—á–Ω–æ –∑–Ω–∞—é—Ç —Å–≤–æ—ë –¥–µ–ª–æ ‚Äî –ø—É—Å—Ç—å –æ–Ω–∏ —Å–∫–∞–∂—É—Ç —Ç–æ, —á—Ç–æ —è –Ω–µ –≤—Å–µ–≥–¥–∞ —É–º–µ—é –≤—ã—Ä–∞–∑–∏—Ç—å. –ù–æ –æ–¥–Ω–æ —è —Å–∫–∞–∂—É –ø—Ä—è–º–æ: —Ç—ã –ø–æ–≤–ª–∏—è–ª–∞ –Ω–∞ –º–æ—é –∂–∏–∑–Ω—å –±–æ–ª—å—à–µ, —á–µ–º, —Ç—ã –¥—É–º–∞–µ—à—å. –•–æ—Ç—è, –Ω–∞–≤–µ—Ä–Ω–æ–µ, –æ–¥–Ω–∏–º –ø–æ–∂–µ–ª–∞–Ω–∏–µ–º —ç—Ç–æ –Ω–µ –¥–æ–ª–∂–Ω–æ –∑–∞–∫–æ–Ω—á–∏—Ç—å—Å—è. (¬¨‚Äø¬¨ )</p>

    <p id="p7">–í –º–æ–µ–π –∂–∏–∑–Ω–∏ –æ—á–µ–Ω—å –º–Ω–æ–≥–æ –∑–Ω–∞—á–∏—Ç –º—É–∑—ã–∫–∞ ‚Äî –∏ –≤–µ—Å—ë–ª—ã–µ –º–æ–º–µ–Ω—Ç—ã, –∏ –≥—Ä—É—Å—Ç–Ω—ã–µ —è –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–∂–∏–≤–∞—é —Å –Ω–µ–π. –ò –º–Ω–µ –ø—Ä–∞–≤–¥–∞ —Ö–æ—á–µ—Ç—Å—è, —á—Ç–æ–±—ã –æ–¥–Ω–∞ –ø–µ—Å–Ω—è, –ø—É—Å—Ç—å —Ö–æ—Ç—å —á—É—Ç–æ—á–∫—É, –∞—Å—Å–æ—Ü–∏–∏—Ä–æ–≤–∞–ª–∞—Å—å —Å–æ –º–Ω–æ–π. –¢—ã –º–æ–∂–µ—à—å –ø–æ—Å–ª—É—à–∞—Ç—å –µ—ë –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å –∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –ø–æ—Ç–æ–º, –Ω–æ –º–Ω–µ –ø–æ—á–µ–º—É-—Ç–æ –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ –æ–Ω–∞ –∏ —Ç–∞–∫ —Ç–µ–±–µ –∑–Ω–∞–∫–æ–º–∞.</p>

    <div class="minimal-media" id="media-block">
      <div class="media-player" id="player-yandex">
        <div class="yandex-container">
          <iframe 
            frameborder="0"
            allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
            src="https://music.yandex.ru/iframe/album/25511786/track/106597497"
            title="–Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∞"
            loading="lazy">
          </iframe>
        </div>
        <div class="yandex-fallback">
          <a href="#" id="yandex-music-link">–°–ª—É—à–∞—Ç—å –≤ –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–µ</a>
        </div>
      </div>

      <div class="media-player" id="player-youtube">
        <div class="video-container">
          <iframe 
            title="YouTube"
            src="https://www.youtube.com/embed/H6tNm72cMA8?si=7LztmobAC2tTjsf-"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen"
            allowfullscreen
            loading="lazy">
          </iframe>
        </div>
      </div>

      <div class="media-switch">
        <span class="switch-dot" data-media="yandex" data-tooltip="–Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∞"></span>
        <span class="switch-dot" data-media="youtube" data-tooltip="YouTube"></span>
      </div>
    </div>
  </div>
</div>

<script>
(function() {
  "use strict";

  // ‚≠ê –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–≤—ë–∑–¥
  function createAnimatedStars() {
    const starsContainer = document.querySelector('.stars');
    const card = document.querySelector('.card');
    if (!starsContainer || !card || window.innerWidth <= 600) return;

    starsContainer.innerHTML = '';
    const starCount = 35; // –ë–æ–ª—å—à–µ –∑–≤—ë–∑–¥ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞
    const rect = card.getBoundingClientRect();
    
    for (let i = 0; i < starCount; i++) {
      let attempts = 0;
      let x, y;
      
      // –ù–∞—Ö–æ–¥–∏–º –ø–æ–∑–∏—Ü–∏—é –≤–Ω–µ –∫–∞—Ä—Ç–æ—á–∫–∏
      do {
        x = Math.random() * 100;
        y = Math.random() * 100;
        attempts++;
      } while (attempts < 200 && isInsideCard(x, y, rect));
      
      const star = document.createElement('div');
      star.className = 'star';
      star.style.left = x + '%';
      star.style.top = y + '%';
      star.style.width = star.style.height = (Math.random() * 3 + 1.5) + 'px';
      
      // –†–∞–∑–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–π –∑–≤–µ–∑–¥—ã
      star.style.animationDelay = Math.random() * 3 + 's';
      star.style.animationDuration = (Math.random() * 2 + 2) + 's';
      
      starsContainer.appendChild(star);
    }
  }

  function isInsideCard(xPercent, yPercent, rect) {
    const x = (xPercent / 100) * window.innerWidth;
    const y = (yPercent / 100) * window.innerHeight;
    return x >= rect.left && x <= rect.right && y >= rect.top && y <= rect.bottom;
  }

  // –û—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω)
  function plural(n, one, two, five) {
    n = Math.abs(n) % 100;
    const n1 = n % 10;
    if (n > 10 && n < 20) return five;
    if (n1 > 1 && n1 < 5) return two;
    if (n1 === 1) return one;
    return five;
  }

  function dateDiff(start, end) {
    let years = end.getFullYear() - start.getFullYear();
    let months = end.getMonth() - start.getMonth();
    let days = end.getDate() - start.getDate();
    let hours = end.getHours() - start.getHours();
    let minutes = end.getMinutes() - start.getMinutes();
    let seconds = end.getSeconds() - start.getSeconds();

    if (seconds < 0) { seconds += 60; minutes--; }
    if (minutes < 0) { minutes += 60; hours--; }
    if (hours < 0) { hours += 24; days--; }
    if (days < 0) {
      const prevMonth = new Date(end.getFullYear(), end.getMonth(), 0);
      days += prevMonth.getDate();
      months--;
    }
    if (months < 0) { months += 12; years--; }
    return { years, months, days, hours, minutes, seconds };
  }

  function updateTimer() {
    const startDate = new Date(2021, 1, 11);
    const now = new Date();
    const diff = dateDiff(startDate, now);
    const parts = [];
    if (diff.years > 0) parts.push(diff.years + ' ' + plural(diff.years, '–≥–æ–¥', '–≥–æ–¥–∞', '–ª–µ—Ç'));
    if (diff.months > 0) parts.push(diff.months + ' ' + plural(diff.months, '–º–µ—Å—è—Ü', '–º–µ—Å—è—Ü–∞', '–º–µ—Å—è—Ü–µ–≤'));
    if (diff.days > 0) parts.push(diff.days + ' ' + plural(diff.days, '–¥–µ–Ω—å', '–¥–Ω—è', '–¥–Ω–µ–π'));
    if (diff.hours > 0) parts.push(diff.hours + ' ' + plural(diff.hours, '—á–∞—Å', '—á–∞—Å–∞', '—á–∞—Å–æ–≤'));
    if (diff.minutes > 0) parts.push(diff.minutes + ' ' + plural(diff.minutes, '–º–∏–Ω—É—Ç—É', '–º–∏–Ω—É—Ç—ã', '–º–∏–Ω—É—Ç'));
    parts.push(diff.seconds + ' ' + plural(diff.seconds, '—Å–µ–∫—É–Ω–¥—É', '—Å–µ–∫—É–Ω–¥—ã', '—Å–µ–∫—É–Ω–¥'));
    const timer = document.getElementById('timer');
    if (timer) timer.textContent = parts.join(' ');
  }

  // –°–µ–∫–≤–µ–Ω—Å –ø–æ—è–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
  const titleEl = document.getElementById('mainTitle');
  const timerBlock = document.getElementById('timer-block');
  const paragraphs = document.querySelectorAll('[id^="p"]');
  const mediaBlock = document.getElementById('media-block');

  function startSequence() {
    setTimeout(() => titleEl.classList.add('visible'), 200);
    setTimeout(() => {
      timerBlock.classList.add('visible');
      if (!window.timerInterval) {
        updateTimer();
        window.timerInterval = setInterval(updateTimer, 1000);
      }
    }, 1200);
    setTimeout(() => paragraphs.forEach(p => p.classList.add('visible')), 2400);
    setTimeout(() => {
      mediaBlock.classList.add('visible');
      activateMedia('yandex');
    }, 3600);
  }

  // –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –º–µ–¥–∏–∞
  const dots = document.querySelectorAll('.switch-dot');
  const players = {
    yandex: document.getElementById('player-yandex'),
    youtube: document.getElementById('player-youtube')
  };

  function activateMedia(key) {
    dots.forEach(d => d.classList.remove('active'));
    Object.values(players).forEach(p => p && p.classList.remove('active'));
    const dot = [...dots].find(d => d.dataset.media === key);
    if (dot) dot.classList.add('active');
    if (players[key]) players[key].classList.add('active');
  }

  dots.forEach(dot => {
    dot.addEventListener('click', function(e) {
      e.stopPropagation();
      activateMedia(dot.dataset.media);
    });
  });

  const yandexLink = document.getElementById('yandex-music-link');
  if (yandexLink) {
    yandexLink.addEventListener('click', function(e) {
      e.preventDefault();
      window.open('https://music.yandex.ru/album/25511786/track/106597497', '_blank');
    });
  }

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
  window.addEventListener('load', () => {
    createAnimatedStars();
    startSequence();
  });

  // –ü–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –∑–≤—ë–∑–¥ –ø—Ä–∏ —Ä–µ—Å–∞–π–∑–µ
  window.addEventListener('resize', createAnimatedStars);
})();
</script>
</body>
</html>
